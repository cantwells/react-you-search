{"version":3,"sources":["helper.js","browserStorage.js","redux/slices/favouriteSlice.js","redux/slices/loginSlice.js","redux/dal/api.js","redux/slices/searchSlice.js","components/Header.jsx","components/Error.jsx","components/Search.jsx","components/Favorite.jsx","components/Button.jsx","components/GridLoader.jsx","components/DisplayGridCard.jsx","components/DisplayGrid.jsx","components/DisplayListCard.jsx","components/DisplayList.jsx","components/ListLoader.jsx","components/ModalFavourite.jsx","components/EmptySearch.jsx","components/Login.jsx","components/Nomatch.jsx","components/InfoModal.jsx","components/Player.jsx","assets/img/youtube.png","App.jsx","redux/store.js","index.js"],"names":["helper","asynizer","str","map","replace","match","multyColorRange","event","target","style","background","value","utf8_to_b64","btoa","encodeURI","b64_to_utf8","decodeURI","atob","logIn","credentials","users","username","password","Promise","resolve","reject","user","find","item","browserStorage","getData","key","localStorage","getItem","JSON","parse","err","console","error","saveData","obj","serializedObj","stringify","setItem","removeData","removeItem","getIndex","items","id","findIndex","favouriteSlice","createSlice","name","initialState","favouriteItems","reducers","addFavourite","state","action","push","payload","delFavourite","index","splice","editFavourite","setLocalFavouriteItems","resetFavouritesItems","actions","fetchLogin","createAsyncThunk","a","data","process","persistedState","Object","keys","length","loginSlice","setAuthorized","isAuthorized","logOut","resetError","extraReducers","fulfilled","rejected","message","API_KEY","URI","API","fetchVideos","request","amount","sort","axios","get","getViewCount","videoId","fetchVideosByQuery","query","thunkAPI","response","status","rejectWithValue","Error","searchSlice","isLoaded","videos","totalResult","isGrid","setIsGrid","resetVideos","setLocalData","pending","pageInfo","totalResults","meta","arg","setIsLoaded","menus","menuLink","Header","React","memo","location","useLocation","dispatch","useDispatch","useSelector","login","useState","activeMenu","setActiveMenu","useEffect","initIdx","indexOf","pathname","includes","className","width","height","viewBox","fill","xmlns","clipPath","fillRule","clipRule","d","idx","onClick","onChangeMenu","to","text","Search","search","favourites","dataUser","setValue","modalShow","setModalShow","isShowInfoModal","setIsShowInfoModal","isFavourite","clearModal","useRef","handleGetValue","handleHideInfoModal","useCallback","clearTimeout","current","handleSubmit","preventDefault","handleIsGrid","handleIsModalShow","isShow","setTimeout","onSubmit","type","placeholder","onChange","cn","stroke","strokeWidth","strokeLinecap","strokeLinejoin","onHideModal","onGetValue","onIsModalShow","queryData","onDispatchFavourite","favouriteItem","Favourite","history","useHistory","isModalShow","setIsModalShow","handleShowFavourite","getFavourite","delFavouriteByID","Date","getTime","isAdd","Button","children","role","GridLoader","speed","backgroundColor","foregroundColor","x","y","rx","ry","DisplayGridCard","snippet","img","Image","src","thumbnails","medium","url","onload","alt","title","href","channelId","rel","channelTitle","DisplayGrid","DisplayListCard","DisplayList","ListLoader","setPrefix","ModalFavourite","schema","Yup","shape","required","min","useForm","resolver","yupResolver","register","errors","formRef","closeModal","reset","setSelected","selected","ref","defaultValue","nextId","readOnly","disabled","max","step","EmptySearch","yup","Login","setError","isHide","setIsHide","icon","htmlFor","previousElementSibling","focus","Nomatch","InfoModal","Player","useParams","controls","light","playing","playIcon","config","youtube","playerVars","color","modestbranding","showinfo","goBack","enableBackground","App","exact","path","component","store","configureStore","reducer","subscribe","getState","allData","assign","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+NAoCeA,EApCA,CACXC,SAAU,SAACC,GACP,IAAMC,EAAM,CACR,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,SAAU,IACV,QAAS,IACT,SAAU,KAId,OAAOD,EAAIE,QAFA,iBAEY,SAACC,GAAD,OAAWF,EAAIE,OAE1CC,gBAAiB,SAACC,GACd,IAAMC,EAASD,EAAMC,OACrBA,EAAOC,MAAMC,WAAa,iDAAmE,EAAfF,EAAOG,MAAa,cAAgC,EAAfH,EAAOG,MAAa,oBAE3IC,YAAa,SAAAV,GAAG,OAAIW,KAAKC,UAAUZ,KAEnCa,YAAa,SAAAb,GAAG,OAAIc,UAAUC,KAAKf,KAEnCgB,MAvBW,SAuBLC,EAAaC,GAAQ,IAAD,OACdC,EAAuBF,EAAvBE,SAAUC,EAAaH,EAAbG,SAClB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,IAAMC,EAAON,EAAMO,MAAK,SAAAC,GAAI,OAAIA,EAAKP,WAAaA,KAC9CK,GAAQ,EAAKX,YAAYW,EAAKJ,YAAcA,EAC5CE,EAAQH,GAERI,EAAO,kJCcRI,EA1CQ,CACnBC,QAAS,SAACC,GACN,IACI,OAAGC,aAAaC,QAAQF,GAMbG,KAAKC,MAAMnC,EAAOe,YAAaiB,aAAaC,QAAQF,KAGxD,GACV,MAAMK,GACHC,QAAQC,MAAMF,KAItBG,SAAU,SAAER,EAAKS,GAMb,IAAMC,EAAgBzC,EAAOY,YAAYsB,KAAKQ,UAAUF,IAExD,IACIR,aAAaW,QAAQZ,EAAKU,GAC7B,MAAML,GACHC,QAAQC,MAAMF,KAItBQ,WAAY,SAACb,GACT,IACIC,aAAaa,WAAWd,GAC3B,MAAMK,GACHC,QAAQC,MAAMF,M,QCrCpBU,EAAW,SAACC,EAAOC,GAAR,OAAeD,EAAME,WAAW,SAAArB,GAAI,OAAIA,EAAKoB,KAAOA,MAE/DE,EAAiBC,YAAY,CAC/BC,KAAM,aACNC,aAAc,CACVC,eAAgB,IAEpBC,SAAU,CACNC,aADM,SACQC,EAAOC,GACjBD,EAAMH,eAAeK,KAAKD,EAAOE,UAErCC,aAJM,SAIQJ,EAAOC,GACjB,IAAMI,EAAQhB,EAAUW,EAAMH,eAAgBI,EAAOE,QAAQZ,IAC7DS,EAAMH,eAAeS,OAAQD,EAAO,IAExCE,cARM,SAQSP,EAAOC,GAClB,IAAMI,EAAQhB,EAAUW,EAAMH,eAAgBI,EAAOE,QAAQZ,IAC7DS,EAAMH,eAAeQ,GAASJ,EAAOE,SAEzCK,uBAZM,SAYkBR,EAAOC,GAC3BD,EAAMH,eAAiBI,EAAOE,SAElCM,qBAfM,SAegBT,GAClBA,EAAMH,eAAiB,O,EAKwEJ,EAAeiB,QAA3GX,E,EAAAA,aAAcK,E,EAAAA,aAAcG,E,EAAAA,cAAeC,E,EAAAA,uBAAwBC,E,EAAAA,qBACnEhB,IAAf,Q,+BCzBakB,EAAaC,YACtB,mBADsC,uCAEtC,WAAOlD,GAAP,eAAAmD,EAAA,sEAGcC,EAAOrC,KAAKC,MAAMqC,2GAHhC,SAMqBxE,EAAOkB,MAAMC,EAAaoD,EAAKnD,OANpD,4IAFsC,uDAgBpCmD,EAAO1C,EAAeC,QAAQ,SAG9B2C,EAAiBC,OAAOC,KAAKJ,GAAMK,OAASL,EAAO,GAEnDM,EAAa1B,YAAY,CAC3BC,KAAM,QAMNC,aAAcoB,EACdlB,SAAU,CACNuB,cADM,SACQrB,EAAOC,GACjBD,EAAMsB,aAAerB,EAAOE,QAAQmB,cAExCC,OAJM,SAICvB,GACHA,EAAMsB,cAAe,EACrBtB,EAAM/B,KAAO,MAEjBuD,WARM,SAQKxB,GACPA,EAAMnB,MAAQ,KAGtB4C,eAAa,mBACRd,EAAWe,WAAY,SAAC1B,EAAOC,GAC5BD,EAAMsB,cAAe,EACrBtB,EAAM/B,KAAOgC,EAAOE,QACpBH,EAAMnB,MAAQ,MAJT,cAMR8B,EAAWgB,UAAW,SAAC3B,EAAOC,GAC3BD,EAAMnB,MAAQoB,EAAOpB,MAAM+C,WAPtB,K,EAYoCR,EAAWV,QAAlCa,G,EAAfF,c,EAAeE,QAAQC,E,EAAAA,WACvBJ,IAAf,Q,iBC3DMS,EAAU,0CACVC,EAAM,yCAWGC,EATH,CACRC,YAAa,YAAgC,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KAC7B,OAAOC,IAAMC,IAAN,UAAaP,EAAb,iCAAyCG,EAAzC,kCAA0EC,GAAU,GAApF,kBAAgGC,GAAQ,YAAxG,gBAA2HN,KAEtIS,aAAc,SAACC,GACX,OAAOH,IAAMC,IAAN,UAAaP,EAAb,qCAA6CS,EAA7C,gBAA4DV,MCL9DW,EAAqB5B,YAC9B,8BAD8C,uCAE9C,WAAO6B,EAAOC,GAAd,eAAA7B,EAAA,+EAE+BkB,EAAIC,YAAYS,GAF/C,UAGgC,OADlBE,EAFd,QAGqBC,OAHrB,yCAImBD,EAAS7B,MAJ5B,UAMgC,MAApB6B,EAASC,OANrB,yCAOmBF,EAASG,gBAAiBF,EAAS7B,OAPtD,+DAUcgC,MAAM,KAAIlB,SAVxB,0DAF8C,yDAiB5CmB,EAAcrD,YAAY,CAC5BC,KAAM,SACNC,aAAc,CACVoD,UAAU,EACVC,OAAQ,GACRC,YAAa,EACbjB,QAAS,GACTkB,QAAQ,EACRtE,MAAO,IAEXiB,SAAU,CACNsD,UADM,SACIpD,EAAOC,GACbD,EAAMmD,OAASlD,EAAOE,SAE1BkD,YAJM,SAIMrD,GACRA,EAAMiD,OAAS,GACfjD,EAAMkD,YAAc,EACpBlD,EAAMiC,QAAU,GAChBjC,EAAMmD,QAAS,EACfnD,EAAMgD,UAAW,GAErBM,aAXM,SAWOtD,EAAOC,GAChBD,EAAMiD,OAAShD,EAAOE,QAAQ8C,OAC9BjD,EAAMmD,OAASlD,EAAOE,QAAQgD,OAC9BnD,EAAMiC,QAAUhC,EAAOE,QAAQ8B,QAC/BjC,EAAMkD,YAAcjD,EAAOE,QAAQ+C,YACnClD,EAAMgD,UAAW,IAGzBvB,eAAa,mBACRe,EAAmBe,SAAU,SAACvD,GAC3BA,EAAMgD,UAAW,KAFZ,cAIRR,EAAmBb,UAAW,SAAC3B,EAAD,GAAqB,IAAZnB,EAAW,EAAXA,MACpCmB,EAAMnB,MAAQA,EAAM+C,WALf,cAORY,EAAmBd,WAAY,SAAC1B,EAAOC,GACpCD,EAAMiD,OAAShD,EAAOE,QAAQb,MAC9BU,EAAMkD,YAAcjD,EAAOE,QAAQqD,SAASC,aAC5CzD,EAAMiC,QAAUhC,EAAOyD,KAAKC,IAAI1B,QAChCjC,EAAMgD,UAAW,EACjBhD,EAAMnB,MAAQ,MAZT,K,EAgBoDkE,EAAYrC,QAAlE0C,E,EAAAA,UAAWC,E,EAAAA,YAA0BC,G,EAAbM,Y,EAAaN,cACrCP,IAAf,Q,OC3DMc,EAAQ,CAAC,iCAAS,0DAElBC,EAAW,CAAC,IAAK,cAmERC,EAjEAC,IAAMC,MAAK,WACtB,IAAMC,EAAWC,cACXC,EAAWC,cAEXpG,EAAOqG,aAAa,qBAAEC,MAAiBtG,QAJjB,EAMQ+F,IAAMQ,SAAS,KANvB,mBAMrBC,EANqB,KAMTC,EANS,KAQ5BV,IAAMW,WAAU,WAEZ,IAAMC,EAAUd,EAASe,QAAQX,EAASY,UAE1CJ,EAAcE,KACf,CAACV,EAASY,WAeb,OAAKhB,EAASiB,SAAUb,EAASY,UAEzB,yBAAQE,UAAU,SAAlB,UACI,qBAAKA,UAAU,OAAf,SACI,sBAAKC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAAlE,UACI,oBAAGC,SAAS,cAAZ,UACI,sBAAMC,SAAS,UAAUC,SAAS,UAAUC,EAAE,kEAAkEL,KAAK,YACrH,sBAAMG,SAAS,UAAUC,SAAS,UAAUC,EAAE,kEAAkEL,KAAK,YACrH,sBAAMG,SAAS,UAAUC,SAAS,UAAUC,EAAE,kEAAkEL,KAAK,eAEzH,+BACI,0BAAU7F,GAAG,QAAb,SACI,sBAAM0F,MAAM,KAAKC,OAAO,KAAKE,KAAK,mBAKlD,qBAAKJ,UAAU,MAAf,SACI,oBAAIA,UAAU,OAAd,SACMnB,EAAMnH,KAAK,SAACyB,EAAMuH,GAAP,OAAe,oBACIV,UAAYU,IAAQjB,EAAa,SAAW,GAC5CkB,QAAS,kBAlCxC,SAAAD,GACjBhB,EAAcgB,GAiCiDE,CAAaF,IAFhC,SAGC,cAAC,IAAD,CAAMG,GAAI/B,EAAS4B,GAAnB,SAA0BvH,KAHlBA,EAAOuH,UAMpD,sBAAKV,UAAU,UAAf,UACK/G,GAAQ,qBAAK+G,UAAU,oBAAf,SAAoC/G,IAC7C,qBAAK+G,UAAU,kBAAkBW,QAAS,kBAjCtDvB,EAASf,KACTe,EAAS3D,KACT2D,EAAS7C,UACTnD,EAAee,WAAW,UA8Bd,kDAKL,Q,iBCrEF2D,GAAQ,SAAC,GAAY,IAAXgD,EAAU,EAAVA,KACnB,OACI,qBAAKd,UAAU,gBAAf,SACKc,KC+IEC,GA5IA/B,IAAMC,MAAK,WAEtB,IAAMG,EAAWC,cAFW,EAIoCC,aAAY,qBAAE0B,UAAvE/C,EAJqB,EAIrBA,OAAQC,EAJa,EAIbA,YAAajB,EAJA,EAIAA,QAASkB,EAJT,EAISA,OAAQH,EAJjB,EAIiBA,SAAUnE,EAJ3B,EAI2BA,MAEjDoH,EAAa3B,aAAY,qBAAE2B,WAA2BpG,kBAEtD5B,EAAOqG,aAAa,qBAAEC,MAAiBtG,QAE7C+F,IAAMW,WAAW,WAEb,IAAMuB,EAAW9H,EAAeC,QAAQJ,GAEpCgD,OAAOC,KAAKgF,GAAU/E,SAAW8B,EAAO9B,SACxCiD,EAAUd,EAAa4C,IACvB9B,EAAU5D,EAAwB0F,EAASrG,oBAGjD,IAnB0B,MAsBAmE,IAAMQ,SAAS,IAtBf,mBAsBpBtH,EAtBoB,KAsBbiJ,EAtBa,OAwBQnC,IAAMQ,UAAS,GAxBvB,mBAwBpB4B,EAxBoB,KAwBTC,EAxBS,OA0BoBrC,IAAMQ,UAAS,GA1BnC,mBA0BpB8B,EA1BoB,KA0BHC,EA1BG,KA4BtBC,EAAc,WAChB,QAASP,EAAW/H,MAAM,SAAAC,GAAI,OAAIA,EAAK8D,UAAY/E,MAGjDuJ,EAAazC,IAAM0C,SAEnBC,EAAiB,SAAC7J,GACpBqJ,EAASrJ,EAAMC,OAAOG,QAYpB0J,EAAsB5C,IAAM6C,aAAY,WAC1CC,aAAcL,EAAWM,WAC3B,IAGIC,EAAe,SAAClK,GACdI,GAAQkH,EAAU5B,EAAmB,CAACP,QAAS/E,KACnDJ,EAAMmK,kBAGJC,EAAe,SAAE/D,GACnBiB,EAAShB,EAAUD,KAGjBgE,EAAoB,SAAEC,GACxBZ,KAtBAD,GAAmB,GAEnBE,EAAWM,QAAUM,YAAW,WAC5Bd,GAAmB,KACpB,OAkBqCF,EAAae,IAOzD,OACI,sCACK,OAACnE,QAAD,IAACA,OAAD,EAACA,EAAQ9B,QACF,uBAAM6D,UAAU,OAAhB,UACI,+FACA,yBAASA,UAAU,SAAnB,SACI,sBAAMA,UAAU,OAAOsC,SAAUN,EAAjC,SACI,sBAAKhC,UAAU,gBAAf,UACI,uBAAOuC,KAAK,OACJvC,UAAU,wBACVwC,YAAY,wHACZtK,MAAOA,EACPuK,SAAUd,IAGdzJ,GAAS,qBAAKyI,QAAS,kBAAMwB,GAAkB,IAAOnC,UAAW0C,KAAG,gBAAiB,CAAC,sBAAuBlB,MAAkBrB,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAA5J,SACG,sBAAMI,EAAE,qqBAAqqBkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,YAGnwB,cAAC,GAAD,CAAQ9C,UAAU,8BAAlB,4CACC,cAAC,GAAD,CAAWoC,OAAQd,EAAiByB,YAAanB,WAI9D,0BAAS5B,UAAU,SAAnB,UACI,sBAAKA,UAAU,iBAAf,UACI,sBAAKA,UAAU,gBAAf,yGACuB,4BAAI/C,IAD3B,OAEI,+BAAOiB,OAEX,sBAAK8B,UAAU,iBAAf,UACI,sBAAKW,QAAS,kBAAMuB,GAAa,IAAQlC,UAAW0C,KAAG,CAAC,QAAWvE,IAAU8B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAA1I,UACI,sBAAMI,EAAE,UAAUkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACxF,sBAAMrC,EAAE,WAAWkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACzF,sBAAMrC,EAAE,WAAWkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACzF,sBAAMrC,EAAE,YAAYkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UAC1F,sBAAMrC,EAAE,aAAakC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UAC3F,sBAAMrC,EAAE,aAAakC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,aAE/F,sBAAKnC,QAAS,kBAAMuB,GAAa,IAAOlC,UAAW0C,KAAG,CAAC,OAAUvE,IAAU8B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAAxI,UACI,sBAAMI,EAAE,mBAAmBkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACjG,sBAAMrC,EAAE,oBAAoBkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UAClG,sBAAMrC,EAAE,sBAAsBkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACpG,sBAAMrC,EAAE,qBAAqBkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,mBAI7GjJ,GAAS,cAAC,GAAD,CAAOiH,KAAMjH,IAEpBsE,EACE,cAAC,GAAD,CAAa7D,MAAO2D,EAAQD,SAAUA,IACtC,cAAC,GAAD,CAAa1D,MAAO2D,EAAQD,SAAUA,UAItD,cAAC,GAAD,CAAa9F,MAAOA,EACNoK,SAAUN,EACVgB,WAAYrB,EACZ9H,MAAOA,IAIvBuH,GAAa,cAAC,GAAD,CAAgB6B,cAAed,EAC5Be,UAAY,CAACjG,WACbkG,oBApED,SAAErH,GACzBsD,EAASrE,EAAae,aCnE1BsH,GAAgB,GAgFLC,GA/EG,WACd,IAAMjE,EAAWC,cACXiE,EAAUC,cAFI,EAKoBvE,IAAMQ,UAAS,GALnC,mBAKZgE,EALY,KAKCC,EALD,KAQdnJ,EAAQgF,aAAY,qBAAE2B,WAA2BpG,kBAEjD5B,EAAOqG,aAAa,qBAAEC,MAAiBtG,QAE7C+F,IAAMW,WAAW,WAEb,IAAMuB,EAAW9H,EAAeC,QAAQJ,GAEpCgD,OAAOC,KAAKgF,GAAU/E,SAAW7B,EAAM6B,QACvCiD,EAAU5D,EAAwB0F,EAASrG,mBAGhD,IA6BH,OACI,qCACI,uBAAMmF,UAAU,sBAAhB,UACI,wFACA,qBAAKA,UAAU,YAAf,SAEQ1F,EAAM5C,KAAK,gBAAE6C,EAAF,EAAEA,GAAI0C,EAAN,EAAMA,QAASE,EAAf,EAAeA,KAAMD,EAArB,EAAqBA,OAArB,OACP,sBAAK8C,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SAA6B,sBAAMA,UAAU,eAAeW,QAAS,kBAbrE,SAAE1D,EAASC,EAAQC,GAC3CiC,EAAU5B,EAAmB,CAACP,UAASC,SAAQC,UAC/CmG,EAAQpI,KAAK,KAWsFwI,CAAoBzG,EAASC,EAAQC,IAAnF,SAA2FF,MACxH,sBAAK+C,UAAU,aAAf,UACI,sBAAMW,QAAS,kBA9B1B,SAACpG,GAClB6I,GAAgB9I,EAAMpB,MAAM,SAAAC,GAAI,OAAIA,EAAKoB,KAAOA,KAChDkJ,GAAe,GA4BkCE,CAAapJ,IAAlC,8DACA,sBAAMyF,UAAU,iBAAiBW,QAAU,kBArClD,SAACpG,GACtB6E,EAAUhE,EAAa,CAACb,QACxB6I,GAAgB,GAmC6DQ,CAAiBrJ,IAAlE,6DAJR,UAA+B0C,EAA/B,aAA0C,IAAI4G,MAAOC,oBAYjEN,GAAe,cAAC,GAAD,CACKO,OAAO,EACPd,cAnCN,SAAEb,GACxBqB,EAAerB,IAmCac,UAAWE,GACXD,oBAhCJ,SAAEpJ,GAC1BqF,EAAS7D,EAAcxB,WCnChBiK,GAZAhF,IAAMC,MAAK,YAAmD,IAAhDgF,EAA+C,EAA/CA,SAAUjE,EAAqC,EAArCA,UAAWW,EAA0B,EAA1BA,QAASuD,EAAiB,EAAjBA,KAAM3B,EAAW,EAAXA,KAC7D,OACI,wBAAQvC,UAAW0C,KAAG,SAAD,eAAa1C,EAAYA,IACtCkE,KAAMA,EACNvD,QAASA,EACT4B,KAAMA,EAHd,SAKK0B,O,SCIEE,GAZI,kBACf,eAAC,KAAD,CACIC,MAAO,EACPpE,UAAU,OACVqE,gBAAgB,UAChBC,gBAAgB,UAJpB,UAMI,sBAAMC,EAAE,IAAIC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIzE,MAAM,OAAOC,OAAO,QACpD,sBAAMqE,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIzE,MAAM,OAAOC,OAAO,WCJjDyE,GAAkB,SAAC,GAAqB,IAAnBpK,EAAkB,EAAlBA,GAAIqK,EAAc,EAAdA,QAAc,EACd5F,IAAMQ,UAAS,GADD,mBACxCxB,EADwC,KAC9BY,EAD8B,KAWhD,OARAI,IAAMW,WAAU,WACZ,IAAMkF,EAAM,IAAIC,MAChBD,EAAIE,IAAMH,EAAQI,WAAWC,OAAOC,IAEpCL,EAAIM,OAAS,WACTvG,GAAY,OAGbZ,EAEH,sBAAKgC,UAAU,OAAf,UACI,qBAAKA,UAAU,eAAf,SACI,qBAAK+E,IAAKH,EAAQI,WAAWC,OAAOC,IAAKE,IAAI,mBAEjD,cAAC,IAAD,CAAMpF,UAAU,mBAAmBa,GAAE,iBAAYtG,GAAjD,SACI,qBAAKyF,UAAU,oBAAoBqF,MAAOT,EAAQS,MAAM1N,QAAQ,UAAW,KAA3E,SACKJ,EAAOC,SAASoN,EAAQS,WAGjC,mBAAGrF,UAAU,qBAAqBsF,KAAI,0CAAqCV,EAAQW,WAAaxN,OAAO,SAASyN,IAAI,aAApH,SACI,qBAAKxF,UAAU,qBAAf,SACKzI,EAAOC,SAASoN,EAAQa,oBAXVlL,GAgB7B,cAAC,GAAD,GAAiBA,IChBRmL,GAfK1G,IAAMC,MAAM,YAAgB,IAAb3E,EAAY,EAAZA,MAE/B,OACI,qBAAK0F,UAAU,qBAAf,SAEQ1F,EAAM5C,KAAK,gBAAE6C,EAAF,EAAEA,GAAIqK,EAAN,EAAMA,QAAN,OAAmB,cAAC,GAAD,CAAkCrK,GAAIA,EAAGgD,QAASqH,QAASA,GAArCrK,EAAGgD,iBCH1DoI,GAAkB,SAAC,GAAmB,IAAlBpL,EAAiB,EAAjBA,GAAIqK,EAAa,EAAbA,QAAa,EAEZ5F,IAAMQ,UAAS,GAFH,mBAEtCxB,EAFsC,KAE5BY,EAF4B,KAc9C,OAVAI,IAAMW,WAAU,WACZ,IAAMkF,EAAM,IAAIC,MAChBD,EAAIE,IAAMH,EAAQI,WAAWC,OAAOC,IAEpCL,EAAIM,OAAS,WACTvG,GAAY,OAKbZ,EAEH,sBAAKgC,UAAU,OAAf,UACI,qBAAKA,UAAU,eAAf,SACI,qBAAK+E,IAAKH,EAAQI,WAAWC,OAAOC,IAAKE,IAAI,mBAEjD,sBAAKpF,UAAU,aAAf,UACI,cAAC,IAAD,CAAMA,UAAU,mBAAmBa,GAAE,iBAAYtG,GAAjD,SACI,qBAAKyF,UAAU,cAAf,SACMzI,EAAOC,SAASoN,EAAQS,WAGlC,mBAAGrF,UAAU,qBAAqBsF,KAAI,0CAAqCV,EAAQW,WAAaxN,OAAO,SAASyN,IAAI,aAApH,SACI,qBAAKxF,UAAU,gBAAf,SACMzI,EAAOC,SAASoN,EAAQa,uBAZflL,GAkB7B,cAAC,GAAD,GAAiBA,ICtBRqL,GAdK5G,IAAMC,MAAM,YAAc,IAAZ3E,EAAW,EAAXA,MAC9B,OACI,qBAAK0F,UAAU,qBAAf,SAEQ1F,EAAM5C,KAAK,gBAAE6C,EAAF,EAAEA,GAAIqK,EAAN,EAAMA,QAAN,OAAmB,cAAC,GAAD,CAAkCrK,GAAIA,EAAGgD,QAASqH,QAASA,GAArCrK,EAAGgD,iBCOxDsI,GAbI,kBACf,eAAC,KAAD,CACIzB,MAAO,EAEPpM,MAAO,CAAE,MAAS,MAAO,aAAgB,QACzCqM,gBAAgB,UAChBC,gBAAgB,UALpB,UAOI,sBAAMC,EAAE,IAAIC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIzE,MAAM,MAAMC,OAAO,QACnD,sBAAMqE,EAAE,MAAMC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIzE,MAAM,MAAMC,OAAO,Y,kECA7D4F,qBAAU,IAEV,IAwGeC,GAxGQ/G,IAAMC,MAAM,YAAmE,IAAD,QAAhE8E,aAAgE,SAApDd,EAAoD,EAApDA,cAAeE,EAAqC,EAArCA,oBAAqBD,EAAgB,EAAhBA,UAE3E8C,EAASC,OAAaC,MAAM,CAC9BjJ,QAASgJ,OAEAE,SAAS,sGAClBd,MAAOY,OAEEE,SAAS,sGACTC,IAAI,EAAG,iGAT6E,EAYtDC,aAAQ,CAC/CC,SAAUC,uBAAYP,KADlBQ,EAZyF,EAYzFA,SAAUC,EAZ+E,EAY/EA,OAAQzE,EAZuE,EAYvEA,aAIpB0E,EAAU1H,IAAM0C,SAhB2E,EAkBrE1C,IAAMQ,UAAkB,OAAT0D,QAAS,IAATA,OAAA,EAAAA,EAAWhG,SAAU,IAlBiC,mBAkBzFhF,EAlByF,KAkBlFiJ,EAlBkF,KAoB3FwF,EAAa,WACfD,EAAQ3E,QAAQ6E,QAChB3D,GAAc,IAGlBjE,IAAMW,WAAU,YACZ,OAAGuD,QAAH,IAAGA,OAAH,EAAGA,EAAW/F,OACV0J,EAAW,OAAC3D,QAAD,IAACA,OAAD,EAACA,EAAW/F,QAE5B,CAAC+F,IAGJ,IAhCiG,EA4CjElE,IAAMQ,SAAS,IA5CkD,mBA4C1FsH,EA5C0F,KA4ChFD,EA5CgF,KAgDjG,OACI,qBAAK7G,UAAY0C,KAAG,QAAS,WAA7B,SACI,sBAAK1C,UAAU,gBAAf,UACI,6BAAK+D,EAAQ,8FAAqB,0FAClC,uBAAMzB,SAAWN,GApBZ,SAAAlG,GACbA,EAAKoB,OAAShF,EACdiL,EAAoBrH,GACpB6K,OAiBkDI,IAAKL,EAA/C,UACI,uBAAOnE,KAAK,SAAS5H,KAAK,KAAKqM,cAAuB,OAAT9D,QAAS,IAATA,OAAA,EAAAA,EAAW3I,KAAM0M,OAAWF,IAAKP,IAC9E,sBAAKxG,UAAU,cAAf,UACI,qEAEA,uBAAOuC,KAAK,OAAO5H,KAAK,UAAUqM,aAAc9D,EAAUjG,QAAS8J,IAAKP,EAAUU,SAAUnD,IAC1F,mBAAG/D,UAAU,oBAAb,mBAAkCyG,EAAOxJ,eAAzC,aAAkC,EAAgBL,aAExD,sBAAKoD,UAAU,cAAf,UACI,8BAAG,kCAAH,sDACA,uBAAOuC,KAAK,OAAO5H,KAAK,QAAQqM,aAAY,OAAE9D,QAAF,IAAEA,OAAF,EAAEA,EAAWmC,MAAO7C,YAAY,8FAAmBuE,IAAKP,IAClG,mBAAGxG,UAAU,oBAAb,mBAAkCyG,EAAOpB,aAAzC,aAAkC,EAAczI,aAEtD,qBAAKoD,UAAU,cAAf,SACI,yBAAQrF,KAAK,OACLoM,IAAKP,EACLtO,MAAO4O,EACPrE,SAtBV,SAAC3K,GAAD,OAAW+O,EAAa/O,EAAMC,OAAOG,QAuB3B8H,UAAW0C,KAAG,CAAE,SAAYoE,IAJpC,UAMI,wBAAQ9G,UAAU,iBAAiBmH,UAAQ,EAACjP,MAAM,GAAlD,6FACA,wBAAQA,MAAM,QAAd,2EACA,wBAAQA,MAAM,OAAd,mDACA,wBAAQA,MAAM,SAAd,2EACA,wBAAQA,MAAM,YAAd,yJAGR,sBAAK8H,UAAU,cAAf,UACI,sKACA,sBAAKA,UAAU,cAAf,UAEI,cAAC,KAAD,CAAQrF,KAAK,SAASyL,IAAK,EAAGgB,IAAK,GAAIC,KAAM,EAAGnP,MAAOA,EAAOuK,SA5CjE,SAACvK,GAClBiJ,EAASjJ,MA4CW,sBAAM8H,UAAU,eAAhB,SAAgC9H,UAGxC,sBAAK8H,UAAU,eAAf,UACI,cAAC,GAAD,CAAQuC,KAAK,SAASvC,UAAU,+BAA+BW,QAASgG,EAAxE,iFACA,cAAC,GAAD,CAAQpE,KAAK,SAASvC,UAAU,4BAAhC,kFCtETsH,GA3BKtI,IAAMC,MAAK,YAA6C,IAA1CqD,EAAyC,EAAzCA,SAAUpK,EAA+B,EAA/BA,MAAO8K,EAAwB,EAAxBA,WAAYnJ,EAAY,EAAZA,MAC3D,OACI,uBAAMmG,UAAU,UAAhB,UACI,+FACA,sBAAMA,UAAU,OAAOsC,SAAUA,EAAjC,SACI,sBAAKtC,UAAU,gBAAf,UACI,uBAAOA,UAAU,SACTuC,KAAK,OACLC,YAAY,wHACZC,SAAUO,EACV9K,MAAOA,IAEf,cAAC,GAAD,CAAQ8H,UAAU,6BAAlB,iDAGNnG,GAAS,cAAC,GAAD,CAAOiH,KAAMjH,UCX9BmM,GAASuB,OAAarB,MAAM,CAC9BtN,SAAU2O,OAAapB,SAAS,qGAChCtN,SAAU0O,OAAapB,SAAS,uGAkGrBqB,GA/FDxI,IAAMC,MAAK,WAAO,IAAD,MAEiCoH,aAAQ,CAAEC,SAAUC,uBAAYP,MAApFQ,EAFmB,EAEnBA,SAAUxE,EAFS,EAETA,aAAcyE,EAFL,EAEKA,OAAQG,EAFb,EAEaA,MAAOa,EAFpB,EAEoBA,SACzCrI,EAAWC,cAHU,EAKGC,aAAY,qBAAEC,SAArCjD,EALoB,EAKpBA,aAAczC,EALM,EAKNA,MALM,EAOGmF,IAAMQ,UAAS,GAPlB,mBAOnBkI,EAPmB,KAOXC,EAPW,KASrBC,EAAO5I,IAAM0C,SAYnB1C,IAAMW,WAAW,WAEV9F,IACC4N,EAAS,WAAY,CACjBlF,KAAM,SACN3F,QAAS/C,IAGbuF,EAAU5C,QAEf,CAAC3C,EAAO4N,EAAUrI,IAQrB,OAAG9C,EAAqB,cAAC,IAAD,CAAUuE,GAAG,MAEjC,sBAAKb,UAAU,gBAAf,UACI,qBAAKA,UAAU,cAAf,SACI,sBAAKC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAAlE,UACI,oBAAGC,SAAS,cAAZ,UACI,sBAAMC,SAAS,UAAUC,SAAS,UAAUC,EAAE,kEAAkEL,KAAK,YACrH,sBAAMG,SAAS,UAAUC,SAAS,UAAUC,EAAE,kEAAkEL,KAAK,YACrH,sBAAMG,SAAS,UAAUC,SAAS,UAAUC,EAAE,kEAAkEL,KAAK,eAEzH,+BACI,0BAAU7F,GAAG,QAAb,SACI,sBAAM0F,MAAM,KAAKC,OAAO,KAAKE,KAAK,mBAKlD,mBAAGJ,UAAU,eAAb,sCACA,uBAAMA,UAAU,OAAOsC,SAAUN,GAvBxB,SAACtJ,GACd0G,EAAUzD,EAAWjD,IACrBkO,OAqBI,UACI,sBAAK5G,UAAU,cAAf,UACI,uBAAO6H,QAAQ,QAAf,4CAAoC,uBACpC,uBAAOtF,KAAK,OACJvC,UAAU,cACVrF,KAAK,WACLoM,IAAKP,IAEb,sCAAIC,EAAO7N,gBAAX,aAAI,EAAiBgE,aAEzB,sBAAKoD,UAAU,cAAf,UACI,uBAAO6H,QAAQ,OAAf,kDAAoC,uBACpC,uBAAOtF,KAAOmF,EAAS,WAAa,OAC5B/M,KAAK,WACLqF,UAAU,cACV+G,IAAKP,IAEb,mBAAGxG,UAAU,OAAOW,QA/Db,WACnBiH,EAAK7F,QAAQ+F,uBAAuBC,QACpCJ,GAAYD,IA6D6CX,IAAKa,EAAlD,SAEQF,EACQ,sBAAK1H,UAAU,YAAYC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAAxF,UACI,sBAAMI,EAAE,0oBAA0oBkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACxtB,sBAAMrC,EAAE,aAAakC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,aAE/F,sBAAK9C,UAAU,YAAYC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,6BAAxF,UACI,sBAAMI,EAAE,yEAAyEkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,UACvJ,sBAAMrC,EAAE,oHAAoHkC,OAAO,UAAUC,YAAY,IAAIC,cAAc,QAAQC,eAAe,eAItN,sCAAI2D,EAAO5N,gBAAX,aAAI,EAAiB+D,aAEzB,wBAAQoD,UAAU,sBAAlB,qDC5FDgI,GATC,WACZ,OACI,sBAAKhI,UAAU,2BAAf,UACI,gJACA,mBAAGA,UAAU,SAAb,SAAsB,cAAC,IAAD,CAAMa,GAAG,IAAT,kICanBoH,GAdGjJ,IAAMC,MAAK,YAA8B,IAA3B8D,EAA0B,EAA1BA,YAAaX,EAAa,EAAbA,OACzC,OACI,sBAAKpC,UAAY0C,KAAG,cAAe,CAAE,oBAAqBN,IAA1D,UACI,iOACA,cAAC,IAAD,CAAMzB,QAASoC,EAAalC,GAAG,aAA/B,4H,qBCiCGqH,GArCA,WAAO,IACZ3N,EAAO4N,cAAP5N,GACF+I,EAAUC,cAMd,OACI,sBAAKvD,UAAU,iBAAf,UACI,cAAC,KAAD,CAAckF,IAAG,0CAAqC3K,GAC1CyF,UAAU,eACVoI,UAAQ,EACRnI,MAAM,OACNC,OAAO,OACPmI,OAAK,EACLC,SAAO,EACPC,SAAU,qBAAKvI,UAAU,cAAc+E,ICtBhD,qzFDsB2DK,IAAI,YACtDoD,OAAQ,CACJC,QAAS,CACLC,WAAY,CAAEC,MAAO,QACLnD,IAAK,EACLoD,eAAgB,EAChBC,SAAU,OAI9C,sBAAK7I,UAAU,WAAWW,QAAU,WAtBxC2C,EAAQwF,UAsBiDC,iBAAiB,gBAAgB7I,OAAO,MAAMC,QAAQ,YAAYF,MAAM,MAAMI,MAAM,6BAAzI,UACI,sBAAMI,EAAE,8EAA8EL,KAAK,YAC3F,sBAAMK,EAAE,gDAAgDL,KAAK,YAC7D,sBAAMK,EAAE,sNAAsNL,KAAK,SACnO,sBAAMK,EAAE,oIAAoIL,KAAK,mBEZlJ4I,OApBf,WAIE,OAFyB1J,aAAa,qBAAEC,SAAhCjD,aAIF,sBAAK0D,UAAU,UAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOiJ,OAAK,EAACC,KAAK,IAAIC,UAAWpI,KACjC,cAAC,IAAD,CAAOkI,OAAK,EAACC,KAAK,aAAaC,UAAW9F,KAC1C,cAAC,IAAD,CAAO6F,KAAK,aAAaC,UAAWjB,KACpC,cAAC,IAAD,CAAOiB,UAAWnB,WAKrB,cAAC,IAAD,CAAUnH,GAAG,YCfhBuI,I,OAAQC,YAAe,CACzBC,QAAS,CACLtI,SACAC,aACA1B,YAIR6J,GAAMG,WAAW,WAAO,IAAD,EAMnB,GAJIH,GAAMI,WAAWjK,MAAMjD,cACvBlD,EAAeU,SAAS,QAASsP,GAAMI,WAAWjK,QAGlD,UAAA6J,GAAMI,WAAWxI,cAAjB,eAAyBhD,WAAYoL,GAAMI,WAAWjK,MAAMtG,KAAM,CAElE,IAAMA,EAAOmQ,GAAMI,WAAWjK,MAAMtG,KAE9B+H,EAASoI,GAAMI,WAAWxI,OAE1BC,EAAamI,GAAMI,WAAWvI,WAE9BwI,EAAUxN,OAAOyN,OAAQ,GAAI1I,EAAQC,GAC3C7H,EAAeU,SAAS,CAACb,GAAOwQ,OAIzBL,UCxBfO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUT,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,SAASC,UAAW3B,KACtC,cAAC,IAAD,CAAO0B,KAAK,IAAIC,UAAWH,cAKnCc,SAASC,eAAe,W","file":"static/js/main.f46f285f.chunk.js","sourcesContent":["const helper = {\r\n    asynizer: (str) => {\r\n        const map = {\r\n            '&amp;': '&',\r\n            '&lt;': '<',\r\n            '&gt;': '>',\r\n            '&quot;': '\"',\r\n            '&#x27;': \"'\",\r\n            '&#39;': \"'\",\r\n            '&#x2F;': \"/\",\r\n        };\r\n        const re = /&#?\\w{2,4};/gi;\r\n\r\n        return str.replace(re, (match) => map[match])\r\n    },\r\n    multyColorRange: (event) => {\r\n        const target = event.target;\r\n        target.style.background = 'linear-gradient(to right, #1390E5 0%, #1390E5 ' + (target.value * 2) + '%, #EAEAEA ' + (target.value * 2) + '%, #EAEAEA 100%)'\r\n    },\r\n    utf8_to_b64: str => btoa(encodeURI(str)),\r\n\r\n    b64_to_utf8: str => decodeURI(atob(str)),\r\n\r\n    logIn(credentials, users) {\r\n        const { username, password } = credentials;\r\n        return new Promise((resolve, reject) => {\r\n            const user = users.find(item => item.username === username);\r\n            if (user && this.b64_to_utf8(user.password) === password) {\r\n                resolve(username);\r\n            } else {\r\n                reject(\"Не верный логин или пароль!\");\r\n            }\r\n        })\r\n    },\r\n}\r\n\r\nexport default helper;","import helper from \"./helper\";\r\n\r\nconst browserStorage = {\r\n    getData: (key) => {\r\n        try{\r\n            if(localStorage.getItem(key)){\r\n                /*\r\n                    1. Получаем данные из localStorage\r\n                    2. Перекодируем из base64 в utf8\r\n                    3. Парсим из  JSON\r\n                */\r\n                return JSON.parse(helper.b64_to_utf8( localStorage.getItem(key) ));\r\n                // return JSON.parse(localStorage.getItem(key));\r\n            }\r\n            return {}\r\n        }catch(err){\r\n            console.error(err);\r\n        }\r\n    },\r\n    \r\n    saveData: ( key, obj ) => {\r\n        /*\r\n            1. Кодируем в base64\r\n            2. Cериализуем в JSON\r\n            3. Добавляем в localStorage\r\n        */\r\n        const serializedObj = helper.utf8_to_b64(JSON.stringify(obj));\r\n        // const serializedObj = JSON.stringify(obj);\r\n        try{\r\n            localStorage.setItem(key, serializedObj)\r\n        }catch(err){\r\n            console.error(err);\r\n        }\r\n    },\r\n    \r\n    removeData: (key) => {\r\n        try{\r\n            localStorage.removeItem(key)\r\n        }catch(err){\r\n            console.error(err);\r\n        }\r\n    }\r\n}\r\n\r\nexport default browserStorage;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst getIndex = (items, id) => items.findIndex( item => item.id === id );\r\n\r\nconst favouriteSlice = createSlice({\r\n    name: 'favourites',\r\n    initialState: {\r\n        favouriteItems: []\r\n    },\r\n    reducers: {\r\n        addFavourite( state, action ){\r\n            state.favouriteItems.push(action.payload);\r\n        },\r\n        delFavourite( state, action ){\r\n            const index = getIndex( state.favouriteItems, action.payload.id );\r\n            state.favouriteItems.splice( index, 1 );\r\n        },\r\n        editFavourite( state, action ){\r\n            const index = getIndex( state.favouriteItems, action.payload.id );\r\n            state.favouriteItems[index] = action.payload;\r\n        },\r\n        setLocalFavouriteItems( state, action ){\r\n            state.favouriteItems = action.payload;\r\n        },\r\n        resetFavouritesItems( state ){\r\n            state.favouriteItems = [];\r\n        }\r\n    }\r\n})\r\n\r\nexport const { addFavourite, delFavourite, editFavourite, setLocalFavouriteItems, resetFavouritesItems } = favouriteSlice.actions;\r\nexport default favouriteSlice.reducer;","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport browserStorage from \"../../browserStorage\";\r\nimport helper from \"../../helper\";\r\n// import API from \"../dal/api\";\r\n\r\n//thunk для проверки авторизационных данных\r\nexport const fetchLogin = createAsyncThunk(\r\n    'login/fetchLogin',\r\n    async (credentials) => {\r\n        try {\r\n            //Получаем допустимые учётные данные из переменной среды\r\n            const data = JSON.parse(process.env.REACT_APP_CREDENTIALS);\r\n            // Передаем учётные данные возвращенные из формы и разрешенные учётные данные для проверки\r\n            // авторизации\r\n            return await helper.logIn(credentials, data.users);\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n)\r\n\r\n//получаем данные из localStorage\r\nconst data = browserStorage.getData('token');\r\n//Либо сохраняем в десериализованный объект либо присваиваем пустой объект,\r\n// которые потом передаём в качестве initialState\r\nconst persistedState = Object.keys(data).length ? data : {};\r\n\r\nconst loginSlice = createSlice({\r\n    name: 'login',\r\n    // initialState: {\r\n    //     isAuthorized: false,\r\n    //     user: {},\r\n    //     error: \"\",\r\n    // },\r\n    initialState: persistedState,\r\n    reducers: {\r\n        setAuthorized(state, action) {\r\n            state.isAuthorized = action.payload.isAuthorized;\r\n        },\r\n        logOut(state) {\r\n            state.isAuthorized = false;\r\n            state.user = null;\r\n        },\r\n        resetError(state) {\r\n            state.error = \"\"\r\n        }\r\n    },\r\n    extraReducers: {\r\n        [fetchLogin.fulfilled]: (state, action) => {\r\n            state.isAuthorized = true;\r\n            state.user = action.payload;\r\n            state.error = \"\";\r\n        },\r\n        [fetchLogin.rejected]: (state, action) => {\r\n            state.error = action.error.message;\r\n        },\r\n    }\r\n})\r\n\r\nexport const { setAuthorized, logOut, resetError } = loginSlice.actions;\r\nexport default loginSlice.reducer;","import axios from \"axios\";\r\nconst API_KEY = 'AIzaSyAQdRphaSUuFoKjC7O_UF4IK5d1pcEw5QU';\r\nconst URI = 'https://www.googleapis.com/youtube/v3/';\r\n\r\nconst API = {\r\n    fetchVideos: ({ request, amount, sort }) => {\r\n        return axios.get(`${URI}search?part=snippet&q=${request}&type=video&maxResults=${amount || 12}&order=${sort || 'relevance'}&key=${API_KEY}`);\r\n    },\r\n    getViewCount: (videoId) => {\r\n        return axios.get(`${URI}videos?part=statistics&id=${videoId}&key=${API_KEY}`);\r\n    },\r\n}\r\n\r\nexport default API;","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport API from \"../dal/api\";\r\n\r\n//thunk для получения видео с сервера\r\nexport const fetchVideosByQuery = createAsyncThunk(\r\n    'search/fetchVideosByQueries',\r\n    async (query, thunkAPI) => {\r\n        try {\r\n            const response = await API.fetchVideos(query);\r\n            if( response.status === 200 ){\r\n                return response.data;\r\n            }\r\n            if( response.status === 400 ){\r\n                return thunkAPI.rejectWithValue( response.data )\r\n            }\r\n        } catch (err) {\r\n            throw Error(err.message);\r\n        }\r\n    }\r\n);\r\n\r\nconst searchSlice = createSlice({\r\n    name: 'search',\r\n    initialState: {\r\n        isLoaded: false,\r\n        videos: [],\r\n        totalResult: 0,\r\n        request: \"\",\r\n        isGrid: true,\r\n        error: \"\"\r\n    },\r\n    reducers: {\r\n        setIsGrid(state, action) {\r\n            state.isGrid = action.payload;\r\n        },\r\n        resetVideos(state) {\r\n            state.videos = [];\r\n            state.totalResult = 0;\r\n            state.request = \"\";\r\n            state.isGrid = true;\r\n            state.isLoaded = false;\r\n        },\r\n        setLocalData(state, action) {\r\n            state.videos = action.payload.videos;\r\n            state.isGrid = action.payload.isGrid;\r\n            state.request = action.payload.request;\r\n            state.totalResult = action.payload.totalResult;\r\n            state.isLoaded = true;\r\n        },\r\n    },\r\n    extraReducers: {\r\n        [fetchVideosByQuery.pending]: (state) => {\r\n            state.isLoaded = false;\r\n        },\r\n        [fetchVideosByQuery.rejected]: (state, {error}) => {\r\n            state.error = error.message;\r\n        },\r\n        [fetchVideosByQuery.fulfilled]: (state, action) => {\r\n            state.videos = action.payload.items;\r\n            state.totalResult = action.payload.pageInfo.totalResults;\r\n            state.request = action.meta.arg.request;\r\n            state.isLoaded = true;\r\n            state.error = \"\"\r\n        }\r\n    }\r\n})\r\nexport const { setIsGrid, resetVideos, setIsLoaded, setLocalData } = searchSlice.actions;\r\nexport default searchSlice.reducer;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport browserStorage from '../browserStorage';\r\nimport { resetFavouritesItems } from '../redux/slices/favouriteSlice';\r\nimport { logOut } from '../redux/slices/loginSlice';\r\nimport { resetVideos } from '../redux/slices/searchSlice';\r\n//Доступные пункты меню\r\nconst menus = ['Поиск', 'Избранное'];\r\n//Доступные сслыки\r\nconst menuLink = ['/', '/favourite'];\r\n\r\nconst Header = React.memo(() => {\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n\r\n    const user = useSelector( ({login}) => login.user );\r\n    //Задаем ссылку по умолчанию\r\n    const [activeMenu, setActiveMenu] = React.useState('/');\r\n\r\n    React.useEffect(() => {\r\n        //Получаем ссылку и возвращаем соответсвующий индекс из массива с сылками\r\n        const initIdx = menuLink.indexOf(location.pathname);\r\n        //который потом и устанавливаем\r\n        setActiveMenu(initIdx)\r\n    }, [location.pathname])\r\n    //Оброботка при переключение пунктов меню\r\n    const onChangeMenu = idx => {\r\n        setActiveMenu(idx);\r\n    }\r\n\r\n    //Обработчик выхода из сессии\r\n    const handleLogOut = () => {\r\n        //Сбрасываем все данные из состояний и удаляем токен\r\n        dispatch(resetVideos());\r\n        dispatch(resetFavouritesItems());\r\n        dispatch(logOut());\r\n        browserStorage.removeData('token');\r\n    } \r\n\r\n    if ( menuLink.includes( location.pathname ) ){\r\n        return (\r\n            <header className=\"header\">\r\n                <div className=\"logo\">\r\n                    <svg width=\"48\" height=\"48\" viewBox=\"0 0 88 88\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <g clipPath=\"url(#clip0)\">\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M59.1488 43.5667L24.683 60.9559V79.399L59.1488 62.0098V43.5667Z\" fill=\"#1390E5\"/>\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M24.683 26.1787L59.1487 43.5679V62.0111L24.683 44.6218V26.1787Z\" fill=\"#1180CB\"/>\r\n                            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M59.1488 8.79071L24.683 26.1799V44.623L59.1488 27.2338V8.79071Z\" fill=\"#35A2EC\"/>\r\n                        </g>\r\n                        <defs>\r\n                            <clipPath id=\"clip0\">\r\n                                <rect width=\"88\" height=\"88\" fill=\"white\"/>\r\n                            </clipPath>\r\n                        </defs>\r\n                    </svg>\r\n                </div>\r\n                <nav className=\"nav\">\r\n                    <ul className=\"menu\">\r\n                        { menus.map( (item, idx) => <li key={item + idx} \r\n                                                        className={ idx === activeMenu ? 'active' : ''} \r\n                                                        onClick={() => onChangeMenu(idx)}\r\n                                                    ><Link to={menuLink[idx]}>{item}</Link></li> )}\r\n                    </ul>\r\n                </nav>\r\n                <div className=\"profile\">\r\n                    {user && <div className=\"profile__username\">{user}</div>}\r\n                    <div className=\"profile__logout\" onClick={() => handleLogOut()}>Выйти</div>\r\n                </div>\r\n            </header>\r\n        );\r\n    }else{\r\n        return null;\r\n    }\r\n    \r\n});\r\n\r\nexport default Header;","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport const Error = ({text}) => {\r\n    return (\r\n        <div className=\"search__error\">\r\n            {text}\r\n        </div>\r\n    )\r\n}\r\n\r\nError.propTypes = {\r\n    text: PropTypes.string.isRequired\r\n}\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, DisplayGrid, DisplayList, EmptySearch, ModalFavourite, InfoModal } from '.';\r\nimport cn from 'classnames';\r\nimport { fetchVideosByQuery, setIsGrid, setLocalData } from '../redux/slices/searchSlice';\r\nimport { addFavourite, setLocalFavouriteItems } from '../redux/slices/favouriteSlice';\r\nimport browserStorage from '../browserStorage';\r\nimport { Error } from './Error';\r\n\r\nconst Search = React.memo(() => {\r\n\r\n    const dispatch = useDispatch();\r\n    //Получаем данные по запросу из стейта\r\n    const {videos, totalResult, request, isGrid, isLoaded, error} = useSelector(({search}) => search);\r\n    //Получаем избранные запросы\r\n    const favourites = useSelector(({favourites}) => favourites.favouriteItems);\r\n    //Получаем текущего пользователя\r\n    const user = useSelector( ({login}) => login.user );\r\n\r\n    React.useEffect( () => {\r\n        //получаем данные по пользователю из localStorage\r\n        const dataUser = browserStorage.getData(user);\r\n        //Если в localStorage что то есть то записываем в стейт\r\n        if( Object.keys(dataUser).length && !videos.length ){\r\n            dispatch( setLocalData(dataUser) )\r\n            dispatch( setLocalFavouriteItems( dataUser.favouriteItems ) )\r\n        }\r\n       // eslint-disable-next-line\r\n    },[]);\r\n\r\n    //Получение данных из поисковой строки\r\n    const [ value, setValue ] = React.useState(\"\");\r\n    //отображать/скрывать модалку с формой\r\n    const [ modalShow, setModalShow ] = React.useState(false);\r\n    //отображать/скрывать модалку для перехода на избранное\r\n    const [ isShowInfoModal, setIsShowInfoModal ] = React.useState(false);\r\n    //проверка вводимой строки на наличие в избранном\r\n    const isFavourite = () => {\r\n        return !!favourites.find( item => item.request === value );\r\n    }\r\n    //создаём реф для возможности отключать таймаут из другой функции\r\n    const clearModal = React.useRef();\r\n    //Обработчик ввода данных в поисковой строке\r\n    const handleGetValue = (event) => {\r\n        setValue(event.target.value);\r\n    }\r\n\r\n    //Обработчик для отображения модального окна с преходом в избранное\r\n    const handleShowInfoModal = () => {\r\n        setIsShowInfoModal(true);\r\n        //Отображаем модальное окно в течение 6 сек\r\n        clearModal.current = setTimeout(() => {\r\n            setIsShowInfoModal(false);\r\n        }, 3600)\r\n    }\r\n    //Обработчик для скрытия модального окна\r\n    const handleHideInfoModal = React.useCallback(() => {\r\n        clearTimeout( clearModal.current );\r\n    },[]);\r\n\r\n    //Обработчик отправки формы в поисковой строке\r\n    const handleSubmit = (event) => {\r\n        if( value ) dispatch( fetchVideosByQuery({request: value}));\r\n        event.preventDefault();\r\n    }\r\n    //Обрабатывать вид отображения видео \r\n    const handleIsGrid = ( isGrid ) => {\r\n        dispatch(setIsGrid(isGrid));\r\n    }\r\n    //Показывать/скрывать модальное окно\r\n    const handleIsModalShow = ( isShow ) => {\r\n        isFavourite() ? handleShowInfoModal() : setModalShow(isShow);\r\n    }\r\n    //Добавление в избранное\r\n    const handleAddFavourite = ( data ) => {\r\n        dispatch(addFavourite(data));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {(videos?.length) \r\n                ?   <main className=\"main\">\r\n                        <h2>Поиск видео</h2>\r\n                        <section className=\"search\">\r\n                            <form className=\"form\" onSubmit={handleSubmit}>\r\n                                <div className=\"united-search\">\r\n                                    <input type=\"text\" \r\n                                            className=\"search search__result\" \r\n                                            placeholder=\"Что хотите посмотреть?\"\r\n                                            value={value}\r\n                                            onChange={handleGetValue}\r\n                                        />\r\n                                    {\r\n                                        value && <svg onClick={() => handleIsModalShow(true)} className={cn('search__heart', {'search__heart--fill': isFavourite()}) } viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                    <path d=\"M20.8401 4.60999C20.3294 4.099 19.7229 3.69364 19.0555 3.41708C18.388 3.14052 17.6726 2.99817 16.9501 2.99817C16.2276 2.99817 15.5122 3.14052 14.8448 3.41708C14.1773 3.69364 13.5709 4.099 13.0601 4.60999L12.0001 5.66999L10.9401 4.60999C9.90843 3.5783 8.50915 2.9987 7.05012 2.9987C5.59109 2.9987 4.19181 3.5783 3.16012 4.60999C2.12843 5.64169 1.54883 7.04096 1.54883 8.49999C1.54883 9.95903 2.12843 11.3583 3.16012 12.39L4.22012 13.45L12.0001 21.23L19.7801 13.45L20.8401 12.39C21.3511 11.8792 21.7565 11.2728 22.033 10.6053C22.3096 9.93789 22.4519 9.22248 22.4519 8.49999C22.4519 7.77751 22.3096 7.0621 22.033 6.39464C21.7565 5.72718 21.3511 5.12075 20.8401 4.60999V4.60999Z\" stroke=\"#1390E5\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                                </svg>\r\n                                    }\r\n                                    <Button className=\"button--fill button--search\">Найти</Button>\r\n                                    {<InfoModal isShow={isShowInfoModal} onHideModal={handleHideInfoModal} /> }\r\n                                </div>\r\n                            </form>\r\n                        </section>\r\n                        <section className=\"result\">\r\n                            <div className=\"result__header\">\r\n                                <div className=\"result__descr\">\r\n                                    Видео по запросу  «<b>{request}</b>»\r\n                                    <span>{totalResult}</span>\r\n                                </div>\r\n                                <div className=\"result__output\">\r\n                                    <svg onClick={() => handleIsGrid(false)} className={cn({'active': !isGrid})} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M8 6H21\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M8 12H21\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M8 18H21\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M3 6H3.01\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M3 12H3.01\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M3 18H3.01\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>\r\n                                    <svg onClick={() => handleIsGrid(true)} className={cn({'active': isGrid})} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M10 5H5V10H10V5Z\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M19 5H14V10H19V5Z\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M19 14H14V19H19V14Z\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M10 14H5V19H10V14Z\" stroke=\"#BBBBBB\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>\r\n                                </div>\r\n                            </div>\r\n                            { error && <Error text={error} /> }\r\n                            {\r\n                                isGrid \r\n                                ? <DisplayGrid items={videos} isLoaded={isLoaded} />\r\n                                : <DisplayList items={videos} isLoaded={isLoaded} />\r\n                            }\r\n                        </section>\r\n                    </main>\r\n                : <EmptySearch value={value} \r\n                                onSubmit={handleSubmit} \r\n                                onGetValue={handleGetValue} \r\n                                error={error} \r\n                            />\r\n            }\r\n            {\r\n                modalShow && <ModalFavourite onIsModalShow={handleIsModalShow} \r\n                                queryData={ {request} }\r\n                                onDispatchFavourite={handleAddFavourite}\r\n                            />\r\n            }\r\n        </>\r\n    )\r\n});\r\n\r\nexport default Search;","import React from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { ModalFavourite } from '.';\r\nimport browserStorage from '../browserStorage';\r\nimport { delFavourite, editFavourite, setLocalFavouriteItems } from \"../redux/slices/favouriteSlice\";\r\nimport { fetchVideosByQuery } from '../redux/slices/searchSlice';\r\n\r\nlet favouriteItem = {}\r\nconst Favourite = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    // отображать/скрывать форму\r\n    const [ isModalShow, setIsModalShow ] = React.useState(false);\r\n    \r\n    //получаем все избранные запросы\r\n    const items = useSelector(({favourites}) => favourites.favouriteItems);\r\n    //Получаем текущего пользователя\r\n    const user = useSelector( ({login}) => login.user );\r\n    //При загрузке страницы проверяем есть ли по текущему пользователю данные в LocalStorage\r\n    React.useEffect( () => {\r\n        //получаем данные из localStorage\r\n        const dataUser = browserStorage.getData(user);\r\n        //Если есть заливаем в стейт\r\n        if( Object.keys(dataUser).length && !items.length ){\r\n            dispatch( setLocalFavouriteItems( dataUser.favouriteItems ) )\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [] );\r\n\r\n    //удалить избраное\r\n    const delFavouriteByID = (id) => {\r\n        dispatch( delFavourite({id}) );\r\n        favouriteItem = {};\r\n    }\r\n\r\n    //получить избраное по id\r\n    const getFavourite = (id) => {\r\n        favouriteItem = items.find( item => item.id === id);\r\n        setIsModalShow(true);\r\n    }\r\n\r\n    //Показывать/скрывать модальное окно\r\n    const handleIsModalShow = ( isShow ) => {\r\n        setIsModalShow(isShow);\r\n    }\r\n\r\n    //оброботчик для изменения избраного\r\n    const handleEditFavourite = ( obj ) => {\r\n        dispatch(editFavourite(obj));\r\n    }\r\n    //Отображение видео по избранным запросам\r\n    const handleShowFavourite = ( request, amount, sort )  => {\r\n        dispatch( fetchVideosByQuery({request, amount, sort }));\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"main main-favourits\">\r\n                <h2>Избранное</h2>\r\n                <div className=\"favourits\">\r\n                    {\r\n                        items.map( ({id, request, sort, amount}) => (\r\n                            <div className=\"item\" key={ `${request}-${new Date().getTime()}` }>\r\n                                <div className=\"item__title\"><span className=\"text__cursor\" onClick={() => handleShowFavourite(request, amount, sort)}>{request}</span></div>\r\n                                <div className=\"item__edit\">\r\n                                    <span onClick={() => getFavourite(id)}>Изменить</span>\r\n                                    <span className=\"item__edit-del\" onClick={ () => delFavouriteByID(id) }>Удалить</span>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </main>\r\n            {\r\n                isModalShow && <ModalFavourite\r\n                                    isAdd={false}\r\n                                    onIsModalShow={handleIsModalShow}\r\n                                    queryData={favouriteItem}\r\n                                    onDispatchFavourite={handleEditFavourite}\r\n                                />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Favourite;","import React from 'react'\r\nimport cn from 'classnames';\r\n\r\nconst Button = React.memo(({ children, className, onClick, role, type }) => {\r\n    return (\r\n        <button className={cn('button', {[className]: className })} \r\n                role={role} \r\n                onClick={onClick}\r\n                type={type}\r\n            >\r\n            {children}\r\n        </button>\r\n    )\r\n});\r\n\r\nexport default Button;","import ContentLoader from \"react-content-loader\";\r\n\r\nconst GridLoader = () => (\r\n    <ContentLoader \r\n        speed={2}\r\n        className=\"item\"\r\n        backgroundColor=\"#e6e6e6\"\r\n        foregroundColor=\"#ecebeb\"\r\n        >\r\n        <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"100%\" height=\"118\" /> \r\n        <rect x=\"0\" y=\"123\" rx=\"0\" ry=\"0\" width=\"100%\" height=\"32\" /> \r\n    </ContentLoader>\r\n)\r\n\r\nexport default GridLoader;","import React from 'react';\r\nimport helper from '../helper';\r\nimport { Link } from 'react-router-dom';\r\nimport GridLoader from '../components/GridLoader';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const DisplayGridCard = ( {id, snippet} ) => {\r\n    const [ isLoaded, setIsLoaded ] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        const img = new Image();\r\n        img.src = snippet.thumbnails.medium.url;\r\n\r\n        img.onload = () => {\r\n            setIsLoaded(true);\r\n        };\r\n    });\r\n    return isLoaded\r\n    ? (\r\n        <div className=\"item\" key={id}>\r\n            <div className=\"item__screen\">\r\n                <img src={snippet.thumbnails.medium.url} alt=\"video-screen\"/>\r\n            </div>\r\n            <Link className=\"item__link-title\" to={`/video/${id}`}>\r\n                <div className=\"item__title trims\" title={snippet.title.replace(/&quot;/g, '\"')}>\r\n                    {helper.asynizer(snippet.title)}\r\n                </div>\r\n            </Link>\r\n            <a className=\"item__link-channel\" href={`https://www.youtube.com/channel/${snippet.channelId}`} target=\"_blank\" rel=\"noreferrer\">\r\n                <div className=\"item__channel trim\">\r\n                    {helper.asynizer(snippet.channelTitle)}\r\n                </div>\r\n            </a>\r\n        </div>\r\n    )\r\n    : <GridLoader key={id}/>\r\n\r\n}\r\n\r\nDisplayGridCard.propTypes = {\r\n    id: PropTypes.string,\r\n    snippet: PropTypes.object\r\n}","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { DisplayGridCard } from './DisplayGridCard';\r\n\r\nconst DisplayGrid = React.memo( ({ items }) => {\r\n    \r\n    return (\r\n        <div className=\"result__clips-grid\">\r\n            {\r\n                items.map( ({id, snippet}) => <DisplayGridCard key={id.videoId} id={id.videoId} snippet={snippet} />)\r\n            }\r\n        </div>\r\n    );\r\n});\r\n\r\nDisplayGrid.propTypes = {\r\n    items: PropTypes.arrayOf( PropTypes.object )\r\n}\r\n\r\nexport default DisplayGrid;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { ListLoader } from '.';\r\nimport helper from '../helper';\r\n\r\nexport const DisplayListCard = ({id, snippet}) => {\r\n\r\n    const [ isLoaded, setIsLoaded ] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        const img = new Image();\r\n        img.src = snippet.thumbnails.medium.url;\r\n\r\n        img.onload = () => {\r\n            setIsLoaded(true);\r\n        };\r\n    });\r\n\r\n    \r\n    return isLoaded \r\n    ? (\r\n        <div className=\"item\" key={id}>\r\n            <div className=\"item__screen\">\r\n                <img src={snippet.thumbnails.medium.url} alt=\"video-screen\"/>\r\n            </div>\r\n            <div className=\"item__info\">\r\n                <Link className=\"item__link-title\" to={`/video/${id}`}>\r\n                    <div className=\"item__title\">\r\n                        { helper.asynizer(snippet.title) }\r\n                    </div>\r\n                </Link>\r\n                <a className=\"item__link-channel\" href={`https://www.youtube.com/channel/${snippet.channelId}`} target=\"_blank\" rel=\"noreferrer\">\r\n                    <div className=\"item__channel\">\r\n                        { helper.asynizer(snippet.channelTitle)}\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    )\r\n    : <ListLoader key={id}/>\r\n}\r\n\r\nDisplayListCard.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    // eslint-disable-next-line react/forbid-prop-types\r\n    snippet: PropTypes.object.isRequired\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DisplayListCard } from './DisplayListCard';\r\n\r\nconst DisplayList = React.memo( ({items}) => {\r\n    return (\r\n        <div className=\"result__clips-list\">\r\n            {\r\n                items.map( ({id, snippet}) => <DisplayListCard key={id.videoId} id={id.videoId} snippet={snippet} /> )\r\n            }\r\n        </div>\r\n    )\r\n});\r\n\r\nDisplayList.propTypes = {\r\n    items: PropTypes.arrayOf( PropTypes.object ),\r\n}\r\n\r\nexport default DisplayList;","import ContentLoader from \"react-content-loader\";\r\n\r\nconst ListLoader = () => (\r\n    <ContentLoader \r\n        speed={2}\r\n        // width={1000}\r\n        style={{ \"width\": \"90%\", \"marginBottom\": \"10px\" }}\r\n        backgroundColor=\"#e6e6e6\"\r\n        foregroundColor=\"#ecebeb\"\r\n    >\r\n        <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"200\" height=\"145\" /> \r\n        <rect x=\"220\" y=\"0\" rx=\"0\" ry=\"0\" width=\"506\" height=\"145\" />\r\n    </ContentLoader>\r\n)\r\n\r\nexport default ListLoader;","import React from 'react'\r\nimport cn from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from '.';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\n\r\nimport nextId, {setPrefix} from \"react-id-generator\";\r\nsetPrefix(\"\");\r\n\r\nconst ModalFavourite = React.memo( ({isAdd=true, onIsModalShow, onDispatchFavourite, queryData }) => {\r\n    //Схема для валидации полей формы\r\n    const schema = Yup.object().shape({\r\n        request: Yup\r\n                .string()\r\n                .required('Обязательное поле!'),\r\n        title: Yup\r\n                .string()\r\n                .required('Обязательное поле!')\r\n                .min(3, 'Слишком короткое')\r\n            });\r\n    //нужные инструменты из react-hook-form\r\n    const { register, errors, handleSubmit } = useForm({\r\n        resolver: yupResolver(schema)\r\n    });\r\n    //получаем реф на форму\r\n    const formRef = React.useRef();\r\n    //Состояние для значения инпута range\r\n    const [ value, setValue ] = React.useState(queryData?.amount || 25);\r\n    //функция скрытия модального окна\r\n    const closeModal = () => {\r\n        formRef.current.reset();\r\n        onIsModalShow(false);\r\n    }\r\n    //При ререндеренге записывать данные в об типе сортировке\r\n    React.useEffect(() => {\r\n        if(queryData?.sort){\r\n            setSelected(queryData?.sort)\r\n        }\r\n    }, [queryData])\r\n\r\n    //Функция обработки при отправке формы\r\n    const onSubmit = data => {\r\n        data.amount = value;\r\n        onDispatchFavourite(data);\r\n        closeModal();\r\n    }\r\n\r\n    //Обработчик изменения инпута range\r\n    const handleChange = (value) => {\r\n        setValue(value);\r\n    }\r\n    \r\n    //состояние для выбора option в выпадающем списке\r\n    const [selected, setSelected] = React.useState('')\r\n\r\n    //Обновление поля select\r\n    const setChoose = (event) => setSelected( event.target.value );\r\n    return (\r\n        <div className={ cn('modal', 'overlay') }>\r\n            <div className=\"modal__window\">\r\n                <h4>{isAdd ? 'Сохранить запрос' : 'Изменить запрос'}</h4>\r\n                <form onSubmit={ handleSubmit(onSubmit) } ref={formRef} >\r\n                    <input type=\"hidden\" name=\"id\" defaultValue={queryData?.id || nextId()}  ref={register}/>\r\n                    <div className=\"form__input\">\r\n                        <p>Запрос</p>\r\n                        {/* <input type=\"text\" name=\"request\" defaultValue={favouriteItem?.request} ref={register} disabled /> */}\r\n                        <input type=\"text\" name=\"request\" defaultValue={queryData.request} ref={register} readOnly={isAdd} />\r\n                        { <p className=\"form__input_error\">{errors.request?.message}</p> }\r\n                    </div>\r\n                    <div className=\"form__input\">\r\n                        <p><i>*</i>Название</p>\r\n                        <input type=\"text\" name=\"title\" defaultValue={queryData?.title} placeholder=\"Укажите название\" ref={register} />\r\n                        { <p className=\"form__input_error\">{errors.title?.message}</p> }\r\n                    </div>\r\n                    <div className=\"form__input\">\r\n                        <select name=\"sort\" \r\n                                ref={register}\r\n                                value={selected}\r\n                                onChange={setChoose}\r\n                                className={cn({ 'selected': selected})}\r\n                            >\r\n                            <option className=\"input-disabled\" disabled value=\"\">Сортировать по</option>\r\n                            <option value=\"title\">По названию</option>\r\n                            <option value=\"date\">По дате</option>\r\n                            <option value=\"rating\">По рейтингу</option>\r\n                            <option value=\"viewCount\">По количеству просмотров</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form__input\">\r\n                        <p>Максимальное количество</p>\r\n                        <div className=\"range-block\">\r\n                            {/* <input name=\"amount\" type=\"range\" min=\"0\" max=\"50\" value={value} step=\"1\" className=\"ranger\" onChange={handleChange} ref={register} /> */}\r\n                            <Slider name=\"amount\" min={0} max={50} step={1} value={value} onChange={handleChange}/>\r\n                            <span className=\"range-result\">{value}</span>    \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"button-block\">\r\n                        <Button type=\"button\" className=\"button--outline button--save\" onClick={closeModal}>Не сохранять</Button>\r\n                        <Button type=\"submit\" className=\"button--fill button--save\">Сохранять</Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nModalFavourite.propTypes = {\r\n    isAdd: PropTypes.bool,\r\n    queryData: PropTypes.object,\r\n    onIsModalShow: PropTypes.func.isRequired,\r\n    onDispatсhFavourite: PropTypes.func\r\n}\r\n\r\nexport default ModalFavourite;","import React from 'react';\r\nimport { Button } from '.';\r\nimport PropTypes from 'prop-types';\r\nimport { Error } from './Error';\r\n\r\nconst EmptySearch = React.memo(({ onSubmit, value, onGetValue, error }) => {\r\n    return (        \r\n        <main className=\"content\">\r\n            <h1>Поиск видео</h1>\r\n            <form className=\"form\" onSubmit={onSubmit}>\r\n                <div className=\"united-search\">\r\n                    <input className=\"search\" \r\n                            type=\"text\" \r\n                            placeholder=\"Что хотите посмотреть?\" \r\n                            onChange={onGetValue}\r\n                            value={value}\r\n                        />\r\n                    <Button className=\"button--fill button-search\">Найти</Button>\r\n                </div>\r\n            </form>\r\n            { error && <Error text={error} /> }\r\n        </main>\r\n    );\r\n});\r\n\r\nEmptySearch.propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onGetValue: PropTypes.func.isRequired,\r\n    onSubmit: PropTypes.func.isRequired,\r\n    error: PropTypes.string\r\n}\r\n\r\nexport default EmptySearch;","import React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n// import { fetchLogin, fetchUsers, resetError } from '../redux/slices/loginSlice';\r\nimport { fetchLogin, resetError } from '../redux/slices/loginSlice';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst schema = yup.object().shape({\r\n    username: yup.string().required('Обязательное поле'),\r\n    password: yup.string().required('Обязательное поле')\r\n})\r\n\r\nconst Login = React.memo(() => {\r\n    //получение нужных инструментов из react-hook-form\r\n    const { register, handleSubmit, errors, reset, setError } = useForm({ resolver: yupResolver(schema) })\r\n    const dispatch = useDispatch();\r\n    //получаем данные из стейта\r\n    const {isAuthorized, error} = useSelector(({login}) => login);\r\n\r\n    const [ isHide, setIsHide ] = React.useState(true);\r\n    //получаем ссылку на элемент иконки\r\n    const icon = React.useRef();\r\n    //Обработчик изменения вида иконки в ипуте пароля\r\n    const toggleVisiable = () => {\r\n        icon.current.previousElementSibling.focus();\r\n        setIsHide( !isHide );\r\n    }\r\n    //При первой загрузке получаем список разрешенных пользователей\r\n    // React.useEffect( () => {\r\n    //     dispatch(fetchUsers());\r\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // },[])\r\n\r\n    React.useEffect( () => {\r\n        //При появления ошибок из стейта, добавляем их в форму react-hook-form\r\n        if(error){\r\n            setError(\"password\", {\r\n                type: \"manual\",\r\n                message: error \r\n            });\r\n            //после чего очищаем error из стейта\r\n            dispatch( resetError() );\r\n        }\r\n    }, [error, setError, dispatch])\r\n\r\n    //обработка отправки формы\r\n    const onSubmit = (credentials ) => {\r\n        dispatch( fetchLogin(credentials) );\r\n        reset();\r\n    }\r\n    //перенаправляем в корень в случае правильно авторизации\r\n    if(isAuthorized) return <Redirect to=\"/\" />\r\n    return (\r\n        <div className=\"wrapper-login\">\r\n            <div className=\"login__logo\">\r\n                <svg width=\"48\" height=\"48\" viewBox=\"0 0 88 88\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g clipPath=\"url(#clip0)\">\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M59.1488 43.5667L24.683 60.9559V79.399L59.1488 62.0098V43.5667Z\" fill=\"#1390E5\"/>\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M24.683 26.1787L59.1487 43.5679V62.0111L24.683 44.6218V26.1787Z\" fill=\"#1180CB\"/>\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M59.1488 8.79071L24.683 26.1799V44.623L59.1488 27.2338V8.79071Z\" fill=\"#35A2EC\"/>\r\n                    </g>\r\n                    <defs>\r\n                        <clipPath id=\"clip0\">\r\n                            <rect width=\"88\" height=\"88\" fill=\"white\"/>\r\n                        </clipPath>\r\n                    </defs>\r\n                </svg>\r\n            </div>\r\n            <p className=\"login__title\">Вход</p>\r\n            <form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n                <div className=\"form__field\">\r\n                    <label htmlFor=\"login\">Логин</label><br/>\r\n                    <input type=\"text\" \r\n                            className=\"form__input\" \r\n                            name=\"username\"\r\n                            ref={register}\r\n                        />\r\n                    <p>{errors.username?.message}</p>\r\n                </div>\r\n                <div className=\"form__field\">\r\n                    <label htmlFor=\"pass\">Пароль</label><br/>\r\n                    <input type={ isHide ? \"password\" : \"text\" } \r\n                            name=\"password\" \r\n                            className=\"form__input\"\r\n                            ref={register}\r\n                        />\r\n                    <i className=\"icon\" onClick={toggleVisiable} ref={icon}>\r\n                        {\r\n                            isHide \r\n                                ?   <svg className=\"icon__img\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.572 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2219 9.18488 10.8539C9.34884 10.4859 9.58525 10.1547 9.88 9.88003M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06003L17.94 17.94ZM9.9 4.24002C10.5883 4.0789 11.2931 3.99836 12 4.00003C19 4.00003 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19L9.9 4.24002Z\" stroke=\"#D0D0D1\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M1 1L23 23\" stroke=\"#D0D0D1\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>\r\n                                :   <svg className=\"icon__img\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                        <path d=\"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z\" stroke=\"#D0D0D1\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                        <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" stroke=\"#D0D0D1\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                                    </svg>\r\n                        }\r\n                    </i>\r\n                    <p>{errors.password?.message}</p>\r\n                </div>\r\n                <button className=\"button button--fill\">Войти</button>\r\n            </form>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Login;","import { Link } from \"react-router-dom\"\r\n\r\nconst Nomatch = () => {\r\n    return (\r\n        <div className=\"wrapper wrapper__nomatch\">\r\n            <h1>404! Страница не найдена!</h1>\r\n            <p className=\"gohome\"><Link to=\"/\">Вернуться на главную</Link></p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nomatch;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst InfoModal = React.memo(( {onHideModal, isShow} ) => {\r\n    return (\r\n        <div className={ cn('modal__info', { 'modal__info--show': isShow })}>\r\n            <p>Поиск сохранён в разделе «Избранное»</p>\r\n            <Link onClick={onHideModal} to=\"/favourite\">Перейти в избранное</Link>\r\n        </div>\r\n    )\r\n});\r\n\r\nInfoModal.propTypes = {\r\n    isShow: PropTypes.bool,\r\n    onHideModal: PropTypes.func\r\n}\r\n\r\nexport default InfoModal;","import React from 'react';\r\nimport ReactPlayer from 'react-player/youtube';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport logo from '../assets/img/youtube.png';\r\n\r\nconst Player = () => {\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n\r\n    const goBack = () => {\r\n        history.goBack();\r\n    }\r\n\r\n    return (\r\n        <div className='player-wrapper'>\r\n            <ReactPlayer  url={`https://www.youtube.com/watch?v=${id}`} \r\n                        className=\"react-player\"\r\n                        controls\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                        light\r\n                        playing\r\n                        playIcon={<img className=\"youtubeLogo\" src={logo} alt=\"youtube\" />}\r\n                        config={{\r\n                            youtube: {\r\n                                playerVars: { color: \"white\", \r\n                                                rel: 0,\r\n                                                modestbranding: 1,\r\n                                                showinfo: 0 }\r\n                            },\r\n                        }}\r\n                    />\r\n            <svg className=\"previous\" onClick={ () => goBack() } enableBackground=\"new 0 0 24 24\" height=\"512\" viewBox=\"0 0 24 24\" width=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"m12 0c-6.617 0-12 5.383-12 12s5.383 12 12 12 12-5.383 12-12-5.383-12-12-12z\" fill=\"#2196f3\"/>\r\n                <path d=\"m12 0c-6.617 0-12 5.383-12 12s5.383 12 12 12z\" fill=\"#1d83d4\"/>\r\n                <path d=\"m10.73 18.791-6.5-6.25c-.147-.142-.23-.337-.23-.541s.083-.399.23-.541l6.5-6.25c.475-.458 1.27-.119 1.27.541v3.25h5.75c.689 0 1.25.561 1.25 1.25v3.5c0 .689-.561 1.25-1.25 1.25h-5.75v3.25c0 .664-.798.995-1.27.541z\" fill=\"#fff\"/>\r\n                <path d=\"m19 12h-15c0 .204.083.399.23.541l6.5 6.25c.15.145.334.21.514.21.385-.001.756-.299.756-.751v-3.25h5.75c.689 0 1.25-.561 1.25-1.25z\" fill=\"#dedede\"/>\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Player;","export default \"data:image/png;base64,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\"","import { useSelector } from 'react-redux';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Favourite, Header, Nomatch, Player, Search } from './components';\r\n\r\nfunction App() {\r\n\r\n  const { isAuthorized } = useSelector( ({login}) => login );\r\n\r\n  if(isAuthorized) {\r\n      return (\r\n        <div className=\"wrapper\">\r\n          <Header/>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Search}/>\r\n            <Route exact path=\"/favourite\" component={Favourite}/>\r\n            <Route path=\"/video/:id\" component={Player}/>\r\n            <Route component={Nomatch}/>\r\n          </Switch>\r\n        </div>\r\n      );\r\n  }\r\n  return <Redirect to=\"/login\" /> \r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport favourites from './slices/favouriteSlice';\r\nimport search from './slices/searchSlice';\r\nimport login from './slices/loginSlice';\r\nimport browserStorage from '../browserStorage';\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        search,\r\n        favourites,\r\n        login\r\n    }\r\n})\r\n//Работаем с localStorage\r\nstore.subscribe( () => {\r\n    //Если пользователь авторизировался сохраняем его учётные данные в localStorage\r\n    if( store.getState().login.isAuthorized ){\r\n        browserStorage.saveData('token', store.getState().login);\r\n    }\r\n    //Если загружаются новые данные, то сохраняем их в localStorage\r\n    if( store.getState().search?.isLoaded && store.getState().login.user ){\r\n        //Определяем под каким пользователем залогинены\r\n        const user = store.getState().login.user;\r\n        //Получаем данные поисковый запросов из состояния \r\n        const search = store.getState().search;\r\n        //Получаем данные об избранных запросах из состояния\r\n        const favourites = store.getState().favourites;\r\n        //Делаем общий объект с данными и закидываем в localStorage, ключем является имя пользователя\r\n        const allData = Object.assign( {}, search, favourites );\r\n        browserStorage.saveData([user], allData);\r\n    }\r\n} )\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux'\r\nimport './scss/styles.scss';\r\nimport store from './redux/store';\r\nimport { Login } from './components';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route path=\"/\" component={App} />\r\n        </Switch>\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}